html {
    scrollbar-gutter: stable;
    // overflow-y: overlay;
}

/* gallery */

.portfolio__container {
    position: relative;
}

.portfolio__gallery--main {
    // max-width: 1400px;
    // width: 100%;
    width: 1400px;
    margin: 0 auto;
    columns: 3;
    column-gap: 35px;
}

.portfolio__gallery--main::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    height: 430px;
    background: $light-purple-color;
    z-index: -1;
}



.portfolio__gallery--main .portfolio__gallery {
    width: 100%;
    margin-bottom: 10px;
    // break-inside: avoid;
}

.portfolio__gallery--main .portfolio__gallery img {
    max-width: 100%;
    margin: 20px auto 20px;
    transition: all 0.3s ease;
}

.portfolio__gallery--main .portfolio__gallery img:hover {
    cursor: pointer;
    transform: scale(1.05);
    box-shadow: 0 0 5px $dark-color-opacity;
}

#portfolio__fullscreen {
    display: none;
    position: fixed;
    opacity: 0;

    top: 0;
    left: 0;
    padding-left: calc(100vw - 99%);
    width: 98%;
    height: 100%;
    background-color: $dark-color-opacity;
    box-shadow: 0 0 0 100vmax $dark-color-opacity;
    scrollbar-gutter: stable;
    /* Фикс для Firefox */
}

#portfolio__fullscreen.visible {
    opacity: 1;
}

#portfolio__image__full {
    // padding: 24px;
    max-width: 95%;
    max-height: 95%;

    transform-style: preserve-3d;
    will-change: transform, opacity;
}

#portfolio__close__btn {
    position: fixed;
    top: 0;
    right: 2%;
    color: $light-color;
    font-weight: bold;
    cursor: pointer;
    opacity: 0.7;
    transition: all 0.3s ease;
}

#portfolio__close__btn:hover {
    opacity: 1;
}

/* АНИМАЦИИ */

.fade-in-fwd {
    animation: fade-in-fwd 0.3s cubic-bezier(0.39, 0.575, 0.565, 1) forwards;
}

.fade-out-fwd {
    animation: fade-out-fwd 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

@keyframes fade-in-fwd {
    0% {
        transform: translateZ(-80px);
        opacity: 0;
    }

    100% {
        transform: translateZ(0);
        opacity: 1;
    }
}

@keyframes fade-out-fwd {
    0% {
        transform: translateZ(0);
        opacity: 1;
    }

    100% {
        transform: translateZ(80px);
        opacity: 0;
    }
}

/* АНИМАЦИИ */

@media (max-width: 1441px) {
    .portfolio__gallery--main .portfolio__gallery img {
        margin: 10px auto 10px;
    }
}

@media (min-width: 1025px) and (max-width: 1441px) {
    .portfolio__gallery--main {
        // margin: 10px auto;
        width: calc(100% - 20%);
        column-gap: 25px;
        // columns: 3;
    }
}

@media (max-width: 1025px) {
    .portfolio__gallery--main {
        width: calc(100% - 180px);
        column-gap: 15px;
    }

    .portfolio__gallery--main .portfolio__gallery img {
        margin: 5px auto 5px;
    }
}

@media (min-width: 769px) {
    .portfolio__slider--main {
        display: none;
    }

    /*прямоугольник сверху*/
    .portfolio__gallery--main::after {
        content: '';
        position: absolute;
        top: 5%;
        left: 50%;
        transform: translateX(-50%);
        width: 100%;
        height: 430px;
        background: $light-purple-color;
        z-index: -1;
    }

    /* прямоугольник снизу */
    .portfolio__container::after {
        content: '';
        position: absolute;
        bottom: 5%;
        left: 50%;
        transform: translateX(-50%);
        width: 100%;
        height: 430px;
        background: $light-purple-color;
        z-index: -1;
    }
}

@media (max-width: 769px) {
    .portfolio__gallery--main {
        display: none;
        // columns: 2;
    }

    body .slick-prev:before {
        color: $purple-color;
    }

    body .slick-next:before {
        color: $purple-color;
    }


    .portfolio-slider-mobile .slick-prev {
        left: -45px;
    }

    .portfolio-slider-mobile .slick-next {
        right: -45px;
    }

    .portfolio__slider--main {
        // width: 450px;
        margin: 0 auto;
    }

    .portfolio__slider--main .portfolio__img--slider {
        width: 100%;
    }

    img.portfolio__img--slider.slick-slide {
        // padding: 10px;
        width: 100%;
    }
}

@media (min-width: 541px) and (max-width: 769px) {
    .portfolio__slider--main {
        /*400-500*/
        width: clamp(25rem, 10.262rem + 43.668vw, 31.25rem);
    }
}

@media (min-width: 430px) and (max-width: 541px) {
    .portfolio__slider--main {
        /*250-350*/
        width: clamp(15.625rem, -8.587rem + 90.09vw, 21.875rem);
    }
}

@media (max-width: 430px) {
    .portfolio__slider--main {
        /*150-250*/
        width: clamp(9.375rem, -5.048rem + 76.923vw, 15.625rem);
    }

    .portfolio-slider-mobile .slick-prev {
        left: -35px;
    }

    .portfolio-slider-mobile .slick-next {
        right: -35px;
    }
}

// @media (max-width: 480px) {
//     .container {
//         columns: 1;
//     }
// }



// /* gallery*/

// .portfolio__gallery--main {
//     /*-1100*/
//     max-width: 1100px;
//     margin: 0 auto;
//     // padding-left: 200px;
// }

// .portfolio__gallery--main::before {
//     content: '';
//     position: absolute;
//     top: 50%;
//     left: 50%;
//     transform: translate(-50%, -50%);
//     width: 100%;
//     height: 430px;
//     background: $light-purple-color;
//     z-index: -1;
// }

// /*прямоугольник сверху*/
// .portfolio__gallery--main::after {
//     content: '';
//     position: absolute;
//     top: 5%;
//     left: 50%;
//     transform: translateX(-50%);
//     width: 100%;
//     height: 430px;
//     background: $light-purple-color;
//     z-index: -1;
// }

// /* прямоугольник снизу */
// .portfolio__container::after {
//     content: '';
//     position: absolute;
//     bottom: 5%;
//     left: 50%;
//     transform: translateX(-50%);
//     width: 100%;
//     height: 430px;
//     background: $light-purple-color;
//     z-index: -1;
// }

// .portfolio__gallery {
//     margin: 0 auto;
//     width: 100%;

//     padding: 0 clamp(10px, 3vw, 30px);
// }

// .portfolio__img {
//     // float: left;
//     // margin-right: 20px;
//     // margin-bottom: 20px;

//     margin-bottom: clamp(10px, 2vw, 20px);
//     // width: auto; // Переопределяем inline-стили от Masonry
//     // height: auto;

//     // width: calc(50% - 10px); // Базовый размер для Masonry
//     // max-width: clamp(90px, 30vw, 320px);
//     float: left;

//     img {
//         width: auto;
//         height: auto;
//         display: block;
//         // Не превышать родительский контейнер
//         max-width: clamp(90px, 30vw, 320px); // Адаптивный минимум

//         // transition: all 0.3s ease;

//         // min-width: clamp(250px, 30vw, 400px);
//         // max-width: clamp(300px, 40vw, 600px);
//         // aspect-ratio: 1/1.5; // Сохраняем пропорции
//         object-fit: contain;
//         transition: transform 0.3s ease;

//         // max-width: clamp(250px, 40vw, 500px);
//     }
// }

// .portfolio__img img:hover {
//     transform: scale(1.05);
//     box-shadow: 0 0 5px $dark-color-opacity;
// }

// .portfolio__img:nth-child(3n) {
//     margin-right: 0;
// }

// /* GALLERY MODAL*/


// @media screen and (min-width: 1281px) {
//     .portfolio-slider {
//         display: none;
//     }
// }

// /* ДО 1280*/
// @media screen and (max-width: 1280px) {
//     .portfolio__gallery--main .portfolio__gallery {
//         display: none;
//     }

//     /* Стили слайдера */
//     .portfolio__gallery--main .portfolio-slider {
//         max-width: 100%;
//         padding: 0 20px;
//     }

//     .slick-slide img {
//         max-width: 100%;
//         height: auto;
//         margin: 0 auto;
//     }

//     .slick-prev:before,
//     .slick-next:before {
//         color: #ff6b6b;
//         font-size: 30px;
//     }

//     .slick-dots li button:before {
//         color: #ff9f43;
//     }
// }



// /* SLIDER FOR 1280*/

// @media (min-width: 1024px) {}

// @media (min-width: 768px) and (max-width: 1024px) {}